# Basic Docker CLI Commands:

## Run

`docker run`: Use this command to create and start a new container based on an image. You can specify options such as
port mapping, volume mounting, and environment variables.

- Interactive mode `docker run --rm --it python:3.11 python-container`
    - Remove container after exit `--rm`
    - Interactive shell `--it`
    - Name `--name`
- Port mapping  `docker run -d -p 8080:80 nginx`
    - `-d` runs a container in detached (background) mode. The command returns the container ID and your terminal is not
      attached to the container's stdin/tty. Use docker logs, docker exec, and docker stop to interact with or stop a
      detached container. Combine with -it only when you need an interactive shell.

    - `-p` publishes a container port to the host. Syntax: -p hostPort:containerPort (or -p hostIP:hostPort:
      containerPort).
      Multiple -p flags are allowed. To publish UDP ports append /udp. Use -P to publish all exposed ports on random
      host ports.

## Volume Mapping

```shell
docker run -d --name nginx-demo -p 8080:80 \
-v ./app:/usr/share/nginx/html \
-v ./nginx/nginx.conf:/etc/nginx/nginx.conf \
nginx:latest
```

- `docker run`: The command to create and start a new container.
- `-d`: Runs the container in detached mode (in the background).
- `--name nginx-demo`: Assigns a name to your container for easier management.
- `-p 8080:80`: Maps port 8080 on your local machine to port 80 inside the container.
- `-v ...`: This flag mounts a host path into the container (host:container).

The first -v mounts your app directory to Nginx's default web root directory.

The second -v mounts your custom nginx.conf over the default Nginx configuration file.

> To stop and remove the container, you can run:
> ```shell
> docker stop nginx-demo
> docker rm nginx-demo
> ```

- Volume mapping `docker run -d -v C:\data:/data --name myapp myimage`
- Environment variables `docker run -e APP_ENV=production -e DEBUG=false myimage`
- Combined example (interactive, volume, env)
  `docker run --rm -it -v C:\proj:/app -w /app -e PYTHONUNBUFFERED=1 python:3.11 python`

`docker ps`: This command lists the running containers on your system, providing information about their status, names,
and IDs.

`docker images`: Use this command to view a list of available Docker images on your system. These images serve as the
blueprints for creating containers.

`docker build`: This command is used for building a Docker image from a Dockerfile, which is a script that specifies how
to create the image.

`docker pull`: Use this command to download Docker images from a container registry, such as Docker Hub.

`docker stop` and `docker start`: These commands allow you to stop and start containers, respectively.

`docker rm`: This command removes one or more containers. Be cautious with this command, as it permanently deletes
containers.

`docker rmi`: Use this command to remove one or more images. Make sure you don't need the image anymore before deleting
it.

## Advanced Docker CLI Usage:

`docker exec`: You can execute commands inside a running container using this command. It's useful for troubleshooting
or interacting with a container's shell.

`docker logs`: This command provides access to the logs generated by a running container, which is helpful for debugging
and monitoring.

`docker-compose`: Docker Compose is a tool that allows you to define and manage multi-container applications in a single
file. You can use the docker-compose command to start, stop, and manage these multi-container setups.

`docker network`: Docker allows you to create custom networks to connect containers. This command helps you manage
network configurations for your containers.